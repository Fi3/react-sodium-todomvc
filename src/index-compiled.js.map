{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction curry(fn)\n{\n    var arity = fn.length;\n    return getArgs([]);\n\n    function getArgs(totalArgs)\n    {\n        return function stepTwo()\n        {\n            var nextTotalArgs = totalArgs.concat([].slice.call(arguments, 0));\n            if (nextTotalArgs.length >= arity)\n                return fn.apply(this, nextTotalArgs);\n            else\n                return getArgs(nextTotalArgs);\n        }\n    }\n}\n\n\n\nfunction Component(x)\n{\n    this.__value = x;\n}\n\nComponent.of = function(x)\n{\n    return new Component(x);\n};\n\nComponent.prototype.empty = function()\n{\n    return new Component(null);\n};\n\nfunction flatten(seq) {\n    return seq.reduce(function flat(a, b)\n    {\n        if({}.toString.call(b) === '[object Array]') return b.reduce(flat, a);\n        a.push(b);\n        return a;\n    }, []);\n}\n\nComponent.prototype.concat = function(other)\n{\n\n    return new Component([this.__value].concat(other));\n};\n\nComponent.prototype.map = function(f)\n{\n    return new Component(f(this.__value));\n};\n\nComponent.prototype.ap = function(other)\n{\n    return other.map(this.__value);\n};\n\nComponent.prototype.flatMap = function(f)\n{\n    return new Component(f(flatten(this.__value)));\n};\n\n\nComponent.prototype.join = function()\n{\n    return this.__value;\n};\n\nconst ContentA = (props) =>\n{\n    return <p>Widget A</p>;\n};\n\nconst ContentB = (props) =>\n{\n    return <p>Widget B</p>;\n};\n\nconst ContentC = (props) =>\n{\n    return <p>Widget C</p>;\n};\n\nclass Page extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n    render()\n    {\n        return <div>\n            <h1>A Page</h1>\n            {this.props.children}\n        </div>;\n    }\n}\n\nclass Home extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n    }\n    render()\n    {\n        return <div>\n            {this.props.children}\n        </div>;\n    }\n}\n\n// Should be Curried\nconst rLoop = curry(function rLoop(C, id)\n{\n    return (props) =>\n    {\n        ReactDOM.render(React.cloneElement(C, { props }), document.querySelector(id));\n        return rLoop(C, id);\n    }\n});\n\n\nfunction renderAdapter(B)\n{\n    switch({}.toString.call(B))\n    {\n        case '[object Function]':\n            return <B />;\n        case '[object Object]':\n            return B;\n        case '[object Array]':\n            return B.map(C => <C key={Math.random()} />);\n    }\n}\n\nconst render = (A) => (B) => { return  <A>{ renderAdapter(B) }</A> };\nconst compose = (...fns) => (x) => fns.reverse().reduce((a, b) => b(a), x);\nconst compSeq = compose(render(Page), render(Home))([ContentA, ContentB, ContentC]);\nconst AppUpdate = rLoop(compSeq, '#app-1');\n      AppUpdate({id: 10});\n\n\nvar App = Component.of(Home)\n    .concat(Page)\n    .concat(Page)\n    .flatMap((r) => renderAdapter(r));\n\n// Fix for multi components -> React.children issue\nvar renderApp = Component.of(rLoop)\n   .ap(Component.of(renderAdapter(Page)))\n   .ap(Component.of('#app-2'))\n   .ap(Component.of({id: 10}));\n\n\n\n\n\n\n\n\n\n"]}